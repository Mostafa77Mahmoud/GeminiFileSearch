Collecting usage statistics. To deactivate, set browser.gatherUsageStats to False.


  You can now view your Streamlit app in your browser.

  URL: http://0.0.0.0:5000

127.0.0.1 - - [24/Nov/2025 13:05:58] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:05:59] "GET /store-info HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:05:59] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:05:59] "GET /store-info HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:06:56] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:06:56] "GET /store-info HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:06:56] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:06:56] "GET /store-info HTTP/1.1" 200 -
[INFO] Processing two-step file search request with top_k=10

============================================================
HYBRID FILE SEARCH PROCESS (Two-Step + Sensitive Clauses)
============================================================

[STEP 1/2] Extracting key terms from contract...
[INFO] Contract length: 6376 characters
[INFO] Calling Gemini for term extraction...
[DEBUG] Extraction response length: 4509 characters
[SUCCESS] Extracted 7 key terms
[PREVIEW] Term 1: clause_deferred_payment_termination - Issues: الشرط الجائر, الشرط الباطل
[PREVIEW] Term 2: clause_immediate_delivery - Issues: انتقال الملكية, تحمل المخاطر
[PREVIEW] Term 3: clause_inspection_acknowledgment - Issues: الجهالة

[PHASE 1/2] General Search for all extracted clauses...
[INFO] Using top_k=10 for comprehensive coverage
[SEARCH] Querying Gemini File Search (Phase 1)...
127.0.0.1 - - [24/Nov/2025 13:07:56] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:07:56] "GET /store-info HTTP/1.1" 200 -
[INFO] Found 70 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 1153 chars - score: 1.0000
[SUCCESS] Chunk 2 - 2202 chars - score: 0.9500
[SUCCESS] Chunk 3 - 1261 chars - score: 0.9000
[SUCCESS] Chunk 4 - 979 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1061 chars - score: 0.8000
[SUCCESS] Chunk 6 - 1093 chars - score: 0.7500
[SUCCESS] Chunk 7 - 1047 chars - score: 0.7000
[SUCCESS] Chunk 8 - 1083 chars - score: 0.6500
[SUCCESS] Chunk 9 - 1025 chars - score: 0.6000
[SUCCESS] Chunk 10 - 1027 chars - score: 0.5500
[INFO] Successfully extracted 10 original chunks from PDF
[SUCCESS] Phase 1 retrieved 10 chunks

[PHASE 2/2] Deep Search for 5 sensitive clause(s)...
[INFO] Sensitive clauses: clause_deferred_payment_termination, clause_inspection_acknowledgment, clause_seller_guarantees

[DEEP SEARCH] Processing sensitive clause: clause_deferred_payment_termination
[INFO] Issues: الشرط الجائر, الشرط الباطل
[INFO] Found 5 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 1153 chars - score: 1.0000
[SUCCESS] Chunk 2 - 1083 chars - score: 0.9500
[SUCCESS] Chunk 3 - 1261 chars - score: 0.9000
[SUCCESS] Chunk 4 - 1027 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1093 chars - score: 0.8000
[INFO] Successfully extracted 5 original chunks from PDF
[SUCCESS] Deep search retrieved 5 chunks for clause_deferred_payment_termination

[DEEP SEARCH] Processing sensitive clause: clause_inspection_acknowledgment
[INFO] Issues: الجهالة
[INFO] Found 5 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 989 chars - score: 1.0000
[SUCCESS] Chunk 2 - 1775 chars - score: 0.9500
[SUCCESS] Chunk 3 - 1015 chars - score: 0.9000
[SUCCESS] Chunk 4 - 1872 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1067 chars - score: 0.8000
[INFO] Successfully extracted 5 original chunks from PDF
[SUCCESS] Deep search retrieved 5 chunks for clause_inspection_acknowledgment

[DEEP SEARCH] Processing sensitive clause: clause_seller_guarantees
[INFO] Issues: الضمان, الغرر
127.0.0.1 - - [24/Nov/2025 13:09:33] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:09:33] "GET /store-info HTTP/1.1" 200 -
[INFO] Found 60 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 1160 chars - score: 1.0000
[SUCCESS] Chunk 2 - 1055 chars - score: 0.9500
[SUCCESS] Chunk 3 - 863 chars - score: 0.9000
[SUCCESS] Chunk 4 - 1181 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1138 chars - score: 0.8000
[INFO] Successfully extracted 5 original chunks from PDF
[SUCCESS] Deep search retrieved 5 chunks for clause_seller_guarantees

[DEEP SEARCH] Processing sensitive clause: clause_finality_full_transfer
[INFO] Issues: انتقال الملكية, الوعد الملزم
[INFO] Found 20 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 918 chars - score: 1.0000
[SUCCESS] Chunk 2 - 1167 chars - score: 0.9500
[SUCCESS] Chunk 3 - 1159 chars - score: 0.9000
[SUCCESS] Chunk 4 - 1097 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1128 chars - score: 0.8000
[INFO] Successfully extracted 5 original chunks from PDF
[SUCCESS] Deep search retrieved 5 chunks for clause_finality_full_transfer

[DEEP SEARCH] Processing sensitive clause: clause_general_penalty
[INFO] Issues: الربا, فائدة التأخير, التعويض غير المشروع
[INFO] Found 5 grounding_chunks from File Search
[SUCCESS] Chunk 1 - 1127 chars - score: 1.0000
[SUCCESS] Chunk 2 - 1566 chars - score: 0.9500
[SUCCESS] Chunk 3 - 1027 chars - score: 0.9000
[SUCCESS] Chunk 4 - 1152 chars - score: 0.8500
[SUCCESS] Chunk 5 - 1057 chars - score: 0.8000
[INFO] Successfully extracted 5 original chunks from PDF
[SUCCESS] Deep search retrieved 5 chunks for clause_general_penalty

[MERGE] Combining general and sensitive chunks...
[SUCCESS] Total 30 unique chunks (General: 10, Sensitive: 25, Merged)
============================================================

127.0.0.1 - - [24/Nov/2025 13:10:38] "POST /file_search HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:10:53] "GET /health HTTP/1.1" 200 -
127.0.0.1 - - [24/Nov/2025 13:10:53] "GET /store-info HTTP/1.1" 200 -